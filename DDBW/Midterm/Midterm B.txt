Midterm B

Задача. Компания, занимающаяся ресторанным бизнесом быстрого питания, решила запустить программу лояльности для своих клиентов. Каждый клиент может зарегистрироваться в программе лояльности, получить бонусные баллы за покупки и обменять их на бесплатные блюда. Покупатели делают заказы, каждый заказ состоит из позиций. Позиция может быть горячим или холодным напитком, пиццей, гамбургером и т.д.

Для этого необходимо спроектировать систему хранения данных, которая будет включать в себя следующие сущности:

Клиенты: ФИО, контактные данные, дата рождения, дата регистрации в программе лояльности, текущее количество бонусных баллов.
Заказы: дата и время заказа, номер заказа, список блюд с указанием количества и цены, сумма заказа, количество начисленных бонусных баллов, количество использованных для оплаты бонусных баллов.
Блюда: наименование, описание, категория, цена.
Категории блюд: наименование, описание.
История бонусных баллов: количество бонусных баллов, за какой заказ, дата начисления, дата истечения срока действия.
Спроектировать систему хранения данных, которая позволит аналитикам без программирования выполнять параметризованные запросы с произвольными комбинациями параметров (например, конкретный месяц или клиент или блюдо) и значений (например, среднее текущее количество баллов).

Пример запроса: "найди 10 максимальных значений накопленных баллов за всю историю  программы лояльности и выведи соответствующих клиентов и по три максимальных начисления баллов для каждого".

Еще пример запроса: "составь отчет по горячим напиткам за май 2024 года: сколько баллов было начислено за их покупку клиентами с разными годами регистрации в системе лояльности"

Интересующие численные данные:

суммарное/среднее/минимальное/максимальное количество начисленных баллов
суммарное/среднее/минимальное/максимальное количество потраченных баллов
суммарное/среднее/минимальное/максимальное текущее количество баллов
набор позиций и/или категорий в заказе
период времени (год/месяц/неделя/день)
время регистрации (последняя неделя/месяц/год или конкретный месяц/год)
Форма представления результата проектирования: набор  операторов  CREATE TABLE  с обязательным указанием первичных и внешних ключей.

